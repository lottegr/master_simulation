<launch>

<!-- Run the map server --> 
   <node name="map_server" pkg="map_server" type="map_server" args="$(find robot_navigation_params)/map/map.yaml"/>
   <node pkg="rviz" type="rviz" name="rviz" required="true" 
      args="-d $(find robot_navigation_params)/map/config_pose.rviz"/>

<!-- Run the robot model with transforms -->
<include file="$(find rb1_description)/launch/remote.launch">
    <arg name="model" value="rb1_description" />
  </include>

<!-- Run the laser scan -->
   <!-- <include file="$(find ydlidar_ros)/launch/TG.launch" /> -->

<!-- Run the odometry source -->
   <node pkg="simulation_code" name="odom_from_encoder" type="odom_from_encoder" output="screen" />

<!--- Run AMCL --> 
   <include file="$(find robot_navigation_params)/launch/amcl.launch" />

   <node pkg="move_base" type="move_base" respawn="false" name="move_base" output="screen">
    <rosparam file="$(find robot_navigation_params)/costmap_common_params.yaml" command="load" ns="global_costmap" /> 
    <rosparam file="$(find robot_navigation_params)/costmap_common_params.yaml" command="load" ns="local_costmap" />
    <rosparam file="$(find robot_navigation_params)/local_costmap_params.yaml" command="load" />
    <rosparam file="$(find robot_navigation_params)/global_costmap_params.yaml" command="load" /> 
    <rosparam file="$(find robot_navigation_params)/base_local_planner_params.yaml" command="load" />
   </node>


</launch> 